# 付款月历设计

## 概述

将付款日历从紧凑网格重新设计为大格子月历视图，类似 Google Calendar 月视图。Tab 标题从"付款日历"改为"付款月历"。

## 布局结构

```
┌─────────────────────────────────┐
│  ◀  2026年2月  ▶               │
│  已付 ¥1,200(3)  待付 ¥800(2)  │
│  逾期 ¥200                      │
├───┬───┬───┬───┬───┬───┬───┤
│ 日 │ 一 │ 二 │ 三 │ 四 │ 五 │ 六 │
├───┼───┼───┼───┼───┼───┼───┤
│   │   │   │   │   │   │ 1 │
├───┼───┼───┼───┼───┼───┼───┤
│ 2 │ 3 │ 4 │ 5 │ 6 │ 7 │ 8 │
│   │   │¥50│   │   │   │   │
│   │   │¥80│   │   │   │   │
├───┼───┼───┼───┼───┼───┼───┤
│...（固定6行）                    │
└───┴───┴───┴───┴───┴───┴───┘
┌─────────────────────────────────┐
│  选中日期的付款详情列表           │
└─────────────────────────────────┘
```

### 月份导航栏

替代原来的 4 张统计卡片，紧凑显示：
- 左右箭头切换月份 + 年月标题
- 当月已付总额(笔数)、待付总额(笔数)、逾期金额

### 日历网格

- 固定 6 行 x 7 列 = 42 格
- 星期标题行：日、一、二、三、四、五、六
- 当月外日期：格子背景淡灰，文字 30% 透明度

### 日期格子内部

```
┌───────┐
│ 14    │  日期数字，左上角，12.sp
│ ¥50   │  已付金额，绿色，9.sp
│ ¥80   │  待付金额，主题色/红色，9.sp
│    +1 │  超出条目数，右下角，8.sp
└───────┘
```

显示规则：
- 最多显示 2 条金额条目
- 同时有已付和待付时：显示已付总额 + 待付总额各一行
- 只有一种类型时：逐条显示最多 2 条，超出用 "+N"

### 颜色规则

- 已付金额：绿色
- 待付未逾期：皮肤主题色（DEFAULT=粉, GOTHIC=深紫, CHINESE=朱红, CLASSIC=酒红）
- 已逾期：红色
- 今天：日期数字加圆形背景（皮肤主题色）
- 选中日期：格子边框描边（皮肤主题色，2.dp）

### 选中日期详情

点击某天后在月历下方展开该天的付款详情卡片列表（复用现有 PaymentInfoCard）。

## 代码变更范围

### 需要修改的文件

1. **PaymentCalendarScreen.kt** — 重写 UI 组件：
   - 删除 StatsRow
   - 重写 MonthHeader（融入统计信息）
   - 重写 CalendarGrid（固定 6 行大格子）
   - 重写 DayCell（大尺寸 + 金额列表 + "+N" 角标）
   - PaymentInfoCard 基本不变

2. **StatsPageScreen.kt** — Tab 标题 "付款日历" → "付款月历"

3. **PaymentCalendarViewModel** — 微调：新增按天聚合已付/待付总额的方法

### 不涉及

- 数据库迁移、新实体、新 DAO
- 导航路由变更
- 皮肤系统变更（复用现有皮肤颜色和组件）
