# 付款年历设计

## 概述

将付款月历（一次看一个月）完全替换为付款年历（一次看 12 个月）。4x3 月卡片布局，每个月卡片显示统计汇总，点击展开该月付款列表。

## 布局结构

```
┌─────────────────────────────────┐
│  ◀  2026年  ▶                  │
│  已付 ¥12,000(30)  待付 ¥3,200(8) │
│  逾期 ¥500                      │
├─────────────────────────────────┤
│ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ │
│ │ 1月  │ │ 2月  │ │ 3月  │ │ 4月  │ │
│ │已付¥X│ │已付¥X│ │已付¥X│ │已付¥X│ │
│ │待付¥X│ │待付¥X│ │待付¥X│ │待付¥X│ │
│ └──────┘ └──────┘ └──────┘ └──────┘ │
│ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ │
│ │ 5月  │ │ 6月  │ │ 7月  │ │ 8月  │ │
│ └──────┘ └──────┘ └──────┘ └──────┘ │
│ ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐ │
│ │ 9月  │ │10月  │ │11月  │ │12月  │ │
│ └──────┘ └──────┘ └──────┘ └──────┘ │
├─────────────────────────────────┤
│  ▼ 2月 付款详情（选中后展开）     │
│  ┌─────────────────────────┐   │
│  │ 物品A  ¥50  全款  已付款  │   │
│  └─────────────────────────┘   │
└─────────────────────────────────┘
```

### 年份导航栏

- 左右箭头切换年份 + 年份标题
- 全年已付总额(笔数)、待付总额(笔数)、逾期金额

### 月卡片 (4x3 网格)

每个月卡片内部：
- 月名（14.sp, Bold）
- 已付 ¥X (绿色) + (N笔)
- 待付 ¥X (主题色/红色) + (N笔)
- 逾期 ¥X (红色，仅有逾期时显示)

### 颜色规则

- 已付金额：绿色 #4CAF50
- 待付未逾期：皮肤主题色
- 有逾期：待付和逾期都用红色 #D32F2F
- 无付款月份：只显示月名，文字 40% 透明度
- 当前月份：卡片边框主题色描边 2.dp
- 选中月份：卡片背景主题色 15% alpha

### 选中月份详情

点击某月后在年历下方展开该月的付款详情卡片列表（复用现有 PaymentInfoCard）。

## 代码变更范围

### 需要修改的文件

1. **PaymentCalendarScreen.kt** — 完全重写 UI：
   - 删除 CalendarGrid、DayCell（月历组件）
   - 新增 YearHeader（年份导航 + 全年统计）
   - 新增 MonthCardGrid（4x3 月卡片网格）
   - 新增 MonthCard（单个月卡片）
   - 保留 PaymentInfoCard（展开详情复用）

2. **PaymentCalendarViewModel** — 重写数据逻辑：
   - currentYear + selectedMonth（替代 currentYear/currentMonth/selectedDay）
   - loadData() 查询全年范围
   - 按月分组统计（内存计算）
   - 全年汇总统计

### 不涉及

- 数据库迁移、新 DAO 方法（复用 getPaymentsWithItemInfoByDateRange）
- 导航路由变更
- StatsPageScreen（Tab 标题已改为"付款月历"，保持不变）
- 皮肤系统变更
